---
title: "suseのbootstrap"
emoji: "🍣"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["suse", "bash", "Linux"]
published: false
---

suseのbootstrapの方法がネットで探しても英語でさえあまり情報が無いので、
ここに書く。

dnfとzypperでやる方法があり、
できればzypperの方がsuseとの相性がよくてトラブルが無いだろう。

zypperはdebianやubuntu, Gentoo, archlinuxでインストールする事ができる。

rhel系はfedoraのレポジトリにあるzypperを使うか、dnfでインストールしよう。

## 


```bash
zypper addrepo --refresh http://download.opensuse.org/repositories/Base:/System/15.4/Base:System.repo

zypper addrepo --refresh http://download.opensuse.org/repositories/Base:/System/openSUSE_Tumbleweed/Base:System.repo

zypper --installroot /var/lib/machines/opensuse/ in openSUSE-repos-Tumbleweed

zypper --installroot /var/lib/machines/opensuse in http://download.opensuse.org/distribution/leap/15.4/repo/oss/x86_64/openSUSE-release-15.4-lp154.153.1.x86_64.rpm

http://download.opensuse.org/repositories/Base:/System/openSUSE_Tumbleweed/x86_64/openSUSE-signkey-cert-20210928-7.29.x86_64.rpm

wget http://download.opensuse.org/ports/aarch64/distribution/leap/15.3/appliances/opensuse-leap-dnf-image.x86_64-networkd-dnf.tar.xz

```

```bash
[opensuse-leap]
name=OpenSUSE Leap $releasever
baseurl=https://download.opensuse.org/distribution/leap/$releasever/repo/oss/
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-openSUSE
gpgcheck=1
```

```bash
zypper ar -f -c 'http://download.opensuse.org/distribution/leap/$releasever/repo/oss' repo-oss
zypper --installroot /var/lib/machines/opensuse/ in rpm-repos-openSUSE-Leap systemd systemd-network bash zypper util-linux
```


```bash
zypper ar -f -c 'http://download.opensuse.org/distribution/leap/$releasever/repo/oss' repo-oss
zypper ar -f -c 'http://download.opensuse.org/distribution/leap/$releasever/repo/non-oss' repo-non-oss
zypper ar -f -c 'http://download.opensuse.org/update/leap/$releasever/oss' repo-oss-update
zypper ar -f -c 'http://download.opensuse.org/update/leap/$releasever/non-oss' repo-non-oss-update
```
